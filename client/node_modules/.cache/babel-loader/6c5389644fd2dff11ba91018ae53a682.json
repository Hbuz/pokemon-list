{"ast":null,"code":"import request from \"superagent\";\nexport const USER_LOGIN_SUCCESS = \"USER_LOGIN_SUCCESS\";\nexport const USER_LOGIN_FAILED = \"USER_LOGIN_FAILED\";\nexport const USER_SIGNUP_SUCCESS = \"USER_SIGNUP_SUCCESS\"; // export const ADD_USER = \"ADD_USER\";\n\nexport const USER_SIGNUP_FAILED = \"USER_SIGNUP_FAILED\";\nexport const USER_LOGOUT = \"USER_LOGOUT\";\nexport const REMOVE_ERROR = \"REMOVE_ERROR\";\nconst baseUrl = process.env.REACT_APP_API_URL; //const baseUrl = process.env.REACT_APP_API_URL || \"http://localhost:4001\";\n\nconst userLoginSuccess = user => ({\n  type: USER_LOGIN_SUCCESS,\n  payload: user\n});\n\nconst userLoginFailed = error => ({\n  type: USER_LOGIN_FAILED,\n  payload: error || \"Unknown error\"\n});\n\nconst userSignupSuccess = user => ({\n  type: USER_SIGNUP_SUCCESS,\n  payload: user\n});\n\nconst userSignupFailed = error => ({\n  type: USER_SIGNUP_FAILED,\n  payload: error || \"Unknown error\"\n});\n\nexport const logout = () => ({\n  type: USER_LOGOUT\n});\nexport const removePrevError = () => ({\n  type: REMOVE_ERROR\n});\nexport const login = (username, password) => dispatch => request.post(\"\".concat(baseUrl, \"/logins\")).send({\n  username,\n  password\n}).then(result => {\n  dispatch(userLoginSuccess(result.body));\n  dispatch(removePrevError());\n}).catch(err => {\n  if (err.status === 400) {\n    dispatch(userLoginFailed(err.response.body.message));\n    dispatch(cleanSignUp());\n  } else {\n    console.error(err);\n  }\n});\nexport const signup = (username, password) => dispatch => request.post(\"\".concat(baseUrl, \"/signup\")).send({\n  username,\n  password\n}).then(result => {\n  dispatch(userSignupSuccess(result.body));\n  dispatch(removePrevError());\n}).catch(err => {\n  if (err.status === 400) {\n    dispatch(userSignupFailed(err.response.body.message));\n  } else {\n    console.error(err);\n  }\n});","map":{"version":3,"sources":["/home/marco/Documents/Job/Interviews/ProctorExam/Pokemon-list/client/src/actions/auth.js"],"names":["request","USER_LOGIN_SUCCESS","USER_LOGIN_FAILED","USER_SIGNUP_SUCCESS","USER_SIGNUP_FAILED","USER_LOGOUT","REMOVE_ERROR","baseUrl","process","env","REACT_APP_API_URL","userLoginSuccess","user","type","payload","userLoginFailed","error","userSignupSuccess","userSignupFailed","logout","removePrevError","login","username","password","dispatch","post","send","then","result","body","catch","err","status","response","message","cleanSignUp","console","signup"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,YAApB;AAEA,OAAO,MAAMC,kBAAkB,GAAG,oBAA3B;AACP,OAAO,MAAMC,iBAAiB,GAAG,mBAA1B;AAEP,OAAO,MAAMC,mBAAmB,GAAG,qBAA5B,C,CACP;;AACA,OAAO,MAAMC,kBAAkB,GAAG,oBAA3B;AAEP,OAAO,MAAMC,WAAW,GAAG,aAApB;AAEP,OAAO,MAAMC,YAAY,GAAG,cAArB;AAEP,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAR,CAAYC,iBAA5B,C,CACA;;AAEA,MAAMC,gBAAgB,GAAGC,IAAI,KAAK;AAChCC,EAAAA,IAAI,EAAEZ,kBAD0B;AAEhCa,EAAAA,OAAO,EAAEF;AAFuB,CAAL,CAA7B;;AAKA,MAAMG,eAAe,GAAGC,KAAK,KAAK;AAChCH,EAAAA,IAAI,EAAEX,iBAD0B;AAEhCY,EAAAA,OAAO,EAAEE,KAAK,IAAI;AAFc,CAAL,CAA7B;;AAKA,MAAMC,iBAAiB,GAAGL,IAAI,KAAK;AACjCC,EAAAA,IAAI,EAAEV,mBAD2B;AAEjCW,EAAAA,OAAO,EAAEF;AAFwB,CAAL,CAA9B;;AAKA,MAAMM,gBAAgB,GAAGF,KAAK,KAAK;AACjCH,EAAAA,IAAI,EAAET,kBAD2B;AAEjCU,EAAAA,OAAO,EAAEE,KAAK,IAAI;AAFe,CAAL,CAA9B;;AAKA,OAAO,MAAMG,MAAM,GAAG,OAAO;AAC3BN,EAAAA,IAAI,EAAER;AADqB,CAAP,CAAf;AAKP,OAAO,MAAMe,eAAe,GAAG,OAAO;AACpCP,EAAAA,IAAI,EAAEP;AAD8B,CAAP,CAAxB;AAKP,OAAO,MAAMe,KAAK,GAAG,CAACC,QAAD,EAAWC,QAAX,KAAwBC,QAAQ,IACnDxB,OAAO,CACJyB,IADH,WACWlB,OADX,cAEGmB,IAFH,CAEQ;AAAEJ,EAAAA,QAAF;AAAYC,EAAAA;AAAZ,CAFR,EAGGI,IAHH,CAGQC,MAAM,IAAI;AACdJ,EAAAA,QAAQ,CAACb,gBAAgB,CAACiB,MAAM,CAACC,IAAR,CAAjB,CAAR;AACAL,EAAAA,QAAQ,CAACJ,eAAe,EAAhB,CAAR;AACD,CANH,EAOGU,KAPH,CAOSC,GAAG,IAAI;AACZ,MAAIA,GAAG,CAACC,MAAJ,KAAe,GAAnB,EAAwB;AACtBR,IAAAA,QAAQ,CAACT,eAAe,CAACgB,GAAG,CAACE,QAAJ,CAAaJ,IAAb,CAAkBK,OAAnB,CAAhB,CAAR;AACAV,IAAAA,QAAQ,CAACW,WAAW,EAAZ,CAAR;AACD,GAHD,MAGO;AACLC,IAAAA,OAAO,CAACpB,KAAR,CAAce,GAAd;AACD;AACF,CAdH,CADK;AAiBP,OAAO,MAAMM,MAAM,GAAG,CAACf,QAAD,EAAWC,QAAX,KAAwBC,QAAQ,IACpDxB,OAAO,CACJyB,IADH,WACWlB,OADX,cAEGmB,IAFH,CAEQ;AAAEJ,EAAAA,QAAF;AAAYC,EAAAA;AAAZ,CAFR,EAGGI,IAHH,CAGQC,MAAM,IAAI;AACdJ,EAAAA,QAAQ,CAACP,iBAAiB,CAACW,MAAM,CAACC,IAAR,CAAlB,CAAR;AACAL,EAAAA,QAAQ,CAACJ,eAAe,EAAhB,CAAR;AACD,CANH,EAOGU,KAPH,CAOSC,GAAG,IAAI;AACZ,MAAIA,GAAG,CAACC,MAAJ,KAAe,GAAnB,EAAwB;AACtBR,IAAAA,QAAQ,CAACN,gBAAgB,CAACa,GAAG,CAACE,QAAJ,CAAaJ,IAAb,CAAkBK,OAAnB,CAAjB,CAAR;AACD,GAFD,MAEO;AACLE,IAAAA,OAAO,CAACpB,KAAR,CAAce,GAAd;AACD;AACF,CAbH,CADK","sourcesContent":["import request from \"superagent\";\n\nexport const USER_LOGIN_SUCCESS = \"USER_LOGIN_SUCCESS\";\nexport const USER_LOGIN_FAILED = \"USER_LOGIN_FAILED\";\n\nexport const USER_SIGNUP_SUCCESS = \"USER_SIGNUP_SUCCESS\";\n// export const ADD_USER = \"ADD_USER\";\nexport const USER_SIGNUP_FAILED = \"USER_SIGNUP_FAILED\";\n\nexport const USER_LOGOUT = \"USER_LOGOUT\";\n\nexport const REMOVE_ERROR = \"REMOVE_ERROR\";\n\nconst baseUrl = process.env.REACT_APP_API_URL\n//const baseUrl = process.env.REACT_APP_API_URL || \"http://localhost:4001\";\n\nconst userLoginSuccess = user => ({\n  type: USER_LOGIN_SUCCESS,\n  payload: user\n});\n\nconst userLoginFailed = error => ({\n  type: USER_LOGIN_FAILED,\n  payload: error || \"Unknown error\"\n});\n\nconst userSignupSuccess = user => ({\n  type: USER_SIGNUP_SUCCESS,\n  payload: user\n});\n\nconst userSignupFailed = error => ({\n  type: USER_SIGNUP_FAILED,\n  payload: error || \"Unknown error\"\n});\n\nexport const logout = () => ({\n  type: USER_LOGOUT\n});\n\n\nexport const removePrevError = () => ({\n  type: REMOVE_ERROR\n})\n\n\nexport const login = (username, password) => dispatch =>\n  request\n    .post(`${baseUrl}/logins`)\n    .send({ username, password })\n    .then(result => {\n      dispatch(userLoginSuccess(result.body))\n      dispatch(removePrevError())\n    })\n    .catch(err => {\n      if (err.status === 400) {\n        dispatch(userLoginFailed(err.response.body.message));\n        dispatch(cleanSignUp());\n      } else {\n        console.error(err);\n      }\n    });\n\nexport const signup = (username, password) => dispatch =>\n  request\n    .post(`${baseUrl}/signup`)\n    .send({ username, password })\n    .then(result => {\n      dispatch(userSignupSuccess(result.body))\n      dispatch(removePrevError());\n    })\n    .catch(err => {\n      if (err.status === 400) {\n        dispatch(userSignupFailed(err.response.body.message));\n      } else {\n        console.error(err);\n      }\n    });\n"]},"metadata":{},"sourceType":"module"}