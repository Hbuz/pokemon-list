{"ast":null,"code":"var _temp,\n    _jsxFileName = \"/home/marco/Documents/Job/Interviews/ProctorExam/Pokemon-list/client/src/components/PokemonListContainer.jsx\";\n\nimport * as React from 'react';\nimport request from 'superagent';\nimport PokemonList from './PokemonList';\nimport PokemonDetails from './PokemonDetails';\nimport PokemonSearchForm from './PokemonSearchForm';\nimport Grid from \"@material-ui/core/Grid\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst styles = () => ({\n  root: {\n    flexGrow: 1 // container: {\n    //   padding: 24,\n    //   flexWrap: \"wrap\"\n    // }\n\n  }\n});\n\nconst PokemonListContainer = withStyles(styles)((_temp = class extends React.PureComponent {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      pokemons: null,\n      selected: null,\n      favorites: null,\n      favorite: false\n    };\n\n    this.handleChange = event => {\n      console.log(JSON.stringify(event));\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault(); //Search pokemon\n\n      request('http://localhost:4001/pokemons').query({\n        name: this.state.name\n      }).then(response => {\n        this.setState({\n          pokemons: response.body.pokemons\n        });\n      }); //Update list\n    };\n\n    this.show = name => {\n      request(\"http://localhost:4001/pokemons/\".concat(name)).then(response => {\n        this.setState({\n          selected: response.body.pokemon\n        });\n      }).then(this.checkFavorite());\n    };\n\n    this.changeFavorite = event => {\n      console.log(\"ciao\");\n      console.log(JSON.stringify(this.state.value));\n      this.setState({\n        value: event.target.value\n      });\n    };\n\n    this.checkFavorite = () => {\n      if (this.state.favorites && this.state.selected && this.state.favorites.includes(this.state.selected.id)) {\n        console.log(\"FOUND!!!!\");\n        this.setState({\n          favorite: true\n        });\n        console.log(\"PIPIPIOP     \" + JSON.stringify(this.state));\n      } else {\n        this.setState({\n          favorite: false\n        });\n      }\n    };\n  }\n\n  componentDidMount() {\n    //Get all pokemons\n    request('http://localhost:4001/pokemons').then(response => {\n      this.setState({\n        pokemons: response.body.pokemons\n      });\n    }); //Request favorites\n\n    request(\"http://localhost:4001/pokemons/\".concat(1, \"/favorites\")).then(response => {\n      const favorites = response.body.favorites.map(elem => elem.pokemonId);\n      this.setState({\n        favorites: favorites\n      });\n    });\n  }\n\n  render() {\n    if (!this.state.pokemons) return \"Loading...\";\n    return React.createElement(Grid, {\n      container: true,\n      alignItems: \"center\",\n      justify: \"space-around\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(PokemonSearchForm, {\n      onSubmit: this.handleSubmit,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }), React.createElement(PokemonList, {\n      pokemons: this.state.pokemons,\n      show: this.show,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    })), React.createElement(Grid, {\n      item: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(PokemonDetails, {\n      selected: this.state.selected,\n      changeFavorite: this.changeFavorite,\n      favorite: this.state.favorite,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    })));\n  }\n\n}, _temp));\nexport default PokemonListContainer;","map":{"version":3,"sources":["/home/marco/Documents/Job/Interviews/ProctorExam/Pokemon-list/client/src/components/PokemonListContainer.jsx"],"names":["React","request","PokemonList","PokemonDetails","PokemonSearchForm","Grid","withStyles","styles","root","flexGrow","PokemonListContainer","PureComponent","state","pokemons","selected","favorites","favorite","handleChange","event","console","log","JSON","stringify","setState","target","name","value","handleSubmit","preventDefault","query","then","response","body","show","pokemon","checkFavorite","changeFavorite","includes","id","componentDidMount","map","elem","pokemonId","render"],"mappings":"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","sourcesContent":["import * as React from 'react'\nimport request from 'superagent'\nimport PokemonList from './PokemonList'\nimport PokemonDetails from './PokemonDetails'\nimport PokemonSearchForm from './PokemonSearchForm'\nimport Grid from \"@material-ui/core/Grid\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\n\n\nconst styles = () => ({\n  root: {\n    flexGrow: 1\n  }\n  // container: {\n  //   padding: 24,\n  //   flexWrap: \"wrap\"\n  // }\n});\n\n\nconst PokemonListContainer = withStyles(styles)(\n  class extends React.PureComponent {\n\n    // constructor(props) {\n    //   super(props)\n    //   this.show = this.show.bind(this)\n    // }\n\n    state = {\n      pokemons: null,\n      selected: null,\n      favorites: null,\n      favorite: false\n    }\n\n\n    componentDidMount() {\n      //Get all pokemons\n      request('http://localhost:4001/pokemons')\n        .then(response => {\n          this.setState({ pokemons: response.body.pokemons })\n        })\n      //Request favorites\n      request(`http://localhost:4001/pokemons/${1}/favorites`)\n        .then(response => {\n          const favorites = response.body.favorites.map(elem => (elem.pokemonId))\n          this.setState({ favorites: favorites })\n        })\n    }\n\n    handleChange = (event) => {\n      console.log(JSON.stringify(event))\n      this.setState({ [event.target.name]: event.target.value })\n    }\n\n    handleSubmit = (event) => {\n      event.preventDefault()\n      //Search pokemon\n      request('http://localhost:4001/pokemons')\n        .query({ name: this.state.name })\n        .then(response => {\n          this.setState({ pokemons: response.body.pokemons })\n        })\n      //Update list\n      \n    }\n\n    show = (name) => {\n      request(`http://localhost:4001/pokemons/${name}`)\n        .then(response => {\n          this.setState({ selected: response.body.pokemon })\n        })\n        .then(this.checkFavorite())\n    }\n\n    changeFavorite = (event) => {\n      console.log(\"ciao\")\n      console.log(JSON.stringify(this.state.value))\n      this.setState({ value: event.target.value });\n    }\n\n    checkFavorite = () => {\n      if (this.state.favorites && this.state.selected && this.state.favorites.includes(this.state.selected.id)) {\n        console.log(\"FOUND!!!!\")\n        this.setState({ favorite: true })\n        console.log(\"PIPIPIOP     \"+JSON.stringify(this.state))\n      } else {\n        this.setState({ favorite: false })\n      }\n    }\n\n\n    render() {\n\n      if (!this.state.pokemons) return \"Loading...\"\n\n      return (\n        <Grid container alignItems=\"center\" justify=\"space-around\">\n          <Grid item>\n            <PokemonSearchForm onSubmit={this.handleSubmit} onChange={this.handleChange}/>\n            <PokemonList pokemons={this.state.pokemons} show={this.show} />\n          </Grid>\n          <Grid item>\n            <PokemonDetails selected={this.state.selected} changeFavorite={this.changeFavorite}\n              favorite={this.state.favorite}/>\n          </Grid>\n        </Grid>\n      )\n    }\n  })\n\nexport default PokemonListContainer"]},"metadata":{},"sourceType":"module"}